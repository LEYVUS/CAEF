@{
    Layout = "_Layout";
}
<div ng-controller="ActasController" class="tab-content col-md-10">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Solicitar acta</h3>
        </div>
        <div class="panel-body">
            <form name="form" role="form" novalidate>
                <div class="form-group">
                    <div class="row">
                        <div class="col-xs-3">
                            <label for="fechaSolicitudDocente">Fecha:</label>
                            <input type="date" value="{{fecha | date: 'yyyy-MM-dd'}}" class="form-control" id="fechaSolicitudDocente" disabled>
                        </div>
                        <div class="col-xs-3">
                            <label for="perodoEscolarDocente">Periodo escolar:</label>
                            <input ng-model="acta.Periodo" ng-minlength="6" ng-maxlength="6" type="text" class="form-control" name="periodo"  ng-class="{red: form.periodo.$dirty && form.periodo.$invalid}" disabled>
                            <span ng-show="form.periodo.$dirty && form.periodo.$error.required">Se requiere un periodo.</span>
                            <span ng-show="form.periodo.$dirty && form.periodo.$error.minlength || form.periodo.$error.maxlength">El formato es AÑO-SEMESTRE.</span>
                        </div>
                        <div class="col-xs-4">
                            <label for="numeroEmpleadoDocente">Numero de empleado del maestro:</label>
                            <input type="number" ng-model="acta.IdEmpleado" class="form-control" id="numeroEmpleadoDocente" disabled>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="nombreMateriaDocente">Nombre de la materia:</label>
                            <select ng-model="acta.Materia" ng-change="calculaClaveMateria()" id="nombreMateria" class="form-control input-sm">
                                <option ng-repeat="materia in materias | filter: filtraMaterias" value="{{materia}}">
                                    {{materia.nombre}}
                                </option>
                            </select>
                        </div>
                        <div class="col-xs-3">
                            <label for="claveMateriaDocente">Clave de la materia:</label>
                            <input ng-model="acta.IdMateria" type="text" class="form-control" id="claveMateria" disabled>
                        </div>
                        <div class="col-xs-3">
                            <label for="tipoExamenDocente">Tipo de examen:</label>
                            <select ng-model="acta.IdTipoExamen" class="form-control" id="tipoExamen">
                                <option ng-repeat="tipo in tipos" value="{{tipo.id}}">
                                    {{tipo.nombre}}
                                </option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-xs-4">
                            <label for="carreraDocente">Carrera:</label>
                            <select ng-model="acta.Carrera" ng-change="calculaClaveCarrera()" id="carreraDocente" class="form-control input-sm">
                                <option ng-repeat="carrera in carreras" value="{{carrera}}">
                                    {{carrera.nombre}}
                                </option>
                            </select>
                        </div>
                        <div class="col-xs-3">
                            <label for="claveCarreraDocente">Clave de la carrera:</label>
                            <input ng-model="acta.IdCarrera" type="text" class="form-control" id="claveCarreraDocente" disabled>
                        </div>
                        <div class="col-xs-3">
                            <label for="grupoDocente">Grupo:</label>
                            <input ng-model="grupo" type="number" class="form-control" id="grupoDocente" required>
                        </div>
                    </div>
                </div>
                <!--inicio de la tabla para agregar alumnos-->
                <div class="row">
                    <div class="col-xs-10">
                        <div class="panel panel-default">
                            <div class="panel-heading">Datos del alumno:</div>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Matricula:</th>
                                            <th>Nombre(s):</th>
                                            <th>Apellido paterno:</th>
                                            <th>Apellido materno:</th>
                                            <th>Calificaci&oacute;n:</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="solicitud in solicitudesAlumno">
                                            <td><input ng-model="solicitud.Alumno.Id" type="number" class="form-control" required></td>
                                            <td><input ng-model="solicitud.Alumno.Nombre" type="text" class="form-control" required></td>
                                            <td><input ng-model="solicitud.Alumno.ApellidoP" type="text" class="form-control" required></td>
                                            <td><input ng-model="solicitud.Alumno.ApellidoM" type="text" class="form-control" required></td>
                                            <td><input ng-model="solicitud.Alumno.Promedio" type="number" class="form-control" required></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!--fin de la tabla para agregar alumnos-->
                <div class="form-group">
                    <div class="row">
                        <div class="col-xs-10">
                            <button ng-click="agregarColumna()" type="button" class="btn btn-success"><span class="glyphicon glyphicon-plus-sign"></span> Agregar nuevo alumno</button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="row">
                        <div class="col-xs-10">
                            <label for="motivoDocente">Motivo por el cual se hace la solicitud:</label>
                            <textarea ng-model="acta.Motivo" class="form-control" rows="4" id="motivoDocente"></textarea>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-8">

                    </div>
                    <div class="col-md-2">
                        <input type="submit" ng-click="grabar()" value="Enviar" class="btn btn-primary">
                    </div>
                </div>
            </form>
        </div>
    </div>
</div><!-- tab content -->